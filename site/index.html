<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nickâ€™s Library (Y2K Portal)</title>

  <!-- Custom Cursor -->
  <style>
    body, a { cursor: url("assets/pen-cursor.png"), auto; }
  </style>

  <!-- Y2K Style -->
  <link rel="stylesheet" href="css/homepage.css">
</head>
<body>
<!-- Retro Geocities GIF in corner -->
<div class="geo-gif-top-left">
  <img src="https://web.archive.org/web/20090903051612im_/http://geocities.com/redfordnoise/nick.gif" alt="Retro Nick GIF">
</div>  <!-- Big Animated Header -->
  <div class="header">
    <img src="assets/y2k-header.gif" alt="Y2K Portal Header" class="biggif">
  </div>

  <!-- Navigation with GIF Icons -->
  <div class="nav">
    <a href="films.html" class="y2kbtn">
      <img src="assets/film-icon.gif" alt="ðŸŽ¬">
      FILMS ARCHIVE
    </a>
    <a href="books.html" class="y2kbtn">
      <img src="assets/book-icon.gif" alt="ðŸ“š">
      BOOKS ARCHIVE
    </a>
  </div>

  <!-- â€œRecentlyâ€¦â€ Widgets -->
  <div class="widgets">
    <div class="widget movie">
      <h2>Most Recent Movie</h2>
      <div id="latestmovie">Loadingâ€¦</div>
    </div>
    <div class="widget book">
      <h2>Most Recent Book</h2>
      <div id="latestbook">Loadingâ€¦</div>
    </div>
  </div>

  <!-- Optional Extra GIF Collage -->
  <div class="collage">
    <img src="assets/extra1.gif" alt="" class="clip">
    <img src="assets/extra2.gif" alt="" class="clip">
    <img src="assets/extra3.gif" alt="" class="clip">
  </div>

  <script>
    async function fetchLatest(type) {
      try {
        const html = await (await fetch(type==="movie"?"films.html":"books.html")).text();
        const m = html.match(/<h2><a[^>]*>(.*?)<\/a><\/h2>/);
        return m ? m[1] : "None yet";
      } catch {return "Unavailable";}
    }
    (async()=>{
      document.getElementById("latestmovie").textContent = await fetchLatest("movie");
      document.getElementById("latestbook").textContent = await fetchLatest("book");
    })();
  </script>

</body>
</html>
